es10 新增的知识点主要是对原型对象的能力做了增强，它没有一块非常完整的新内容。和对语法的修正。

### JSON

这个 api 之前有一个 bug，就是超出一定范围的 unicode 展示错误的问题。

0xD800-0xDFFF 之间的字符会因为无法编码成 utf8 导致显示错误。

现在 es10 对这个问题做了一个修正，它会用转义字符的方式让这个范围的字符以非编码的方式存在，这样的话就会有一个正常的显示。

```js
JSON.stringify()
```



### Array

#### Array.prototype.flat

扁平化输出多层嵌套的数组，它会按照一个可指定的深度递归遍历数组。并将所有的元素与遍历到的子数组的元素合并为一个新数组返回。其实就是在做扁平化的事情。

这个参数就是递归的次数，数组嵌套的深度。默认值是 1。

```js
let arr = [1, [2, 3], [4, 5, [6, 7]]]
console.log(arr.flat(2)) // 1, 2, 3, 4, 5, 6, 7
```

#### Array.prototype.flatMap

既有 flat 的功能还有 map 的功能，flatMap 就等于先 map 然后 flat。

```js
let arr = [1, 2, 3]
console.log(arr.map(item => item * 2)) // [2, 4, 6]
console.log(arr.map(item => [item * 2])) // [[2], [4], [6]]
console.log(arr.map(item => [item * 2]).flat()) // [2, 4, 6]
console.log(arr.flatMap(item => [item * 2])) // [2, 4, 6]
```



### String

#### 字符串的去除首尾空格

```js
let str = '   foo   '
console.log(str.replace(/^\s+/g, '')) // 去除首空格
console.log(str.replace(/\s+$/g, '')) // 去除尾空格
console.log(str.replace(/^\s+|\s+$/g, '')) // 去除首尾空格
console.log(str.trimStart()) // 去除首空格
console.log(str.trimLeft()) // 去除首空格
console.log(str.trimEnd()) // 去除尾空格
console.log(str.trimRight()) // 去除尾空格
console.log(str.trim()) // 去除首尾空格
```

#### matchAll跟正则有关系



### Object

#### fromEntries

数组转 object

```js
const arr = [['foo', 1], ['bar', 2]]
const obj = Object.fromEntries(arr)
console.log(obj.bar) // 2
```

#### 利用 entries 和 fromEntries 来使用数组的 api 操作 object

过滤出 key 的长度为 3 的

```js
const obj = {
  abc: 1,
  def: 2,
  ghijk: 3
}
let res = Object.fromEntries(
  Object.entries(obj).filter(([key, val]) => key.length === 3)
)
console.log(res)
```



### try catch

之前

```js
try {

} catch (e) {

}
```

es10

```js
try {

} catch {

}
```



### bigint

新增的数据类型

用来解决处理超过 2^53 的数字，之前 js 的处理能力只能处理到这。现在允许你处理一个大于 2^53 的数字。但它也是数字也能进行数字的四则运算。只不过是两种不同的数据类型。数字后面加一个 n 就变成了 bigint 数据类型。

```js
console.log(11n)
```