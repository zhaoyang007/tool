### 常见的 web 前端攻击方式有哪些，怎么预防

#### XSS 跨站请求攻击

* 一个博客网站，我发表一篇博客，其中嵌入 \<script> 脚本
* 脚本内容：获取 cookie，发送到我的服务器（服务器配合跨域）
* 发布这篇博客，有人查看它，我轻松收割访问者的 cookie

预防：

* 替换特殊字符，如把 < 变为 \&lt;，把 > 变为 \&gt;
* 这样的话 \<script> 就变为 \<script&gt;，直接显示，而不会作为脚本被执行。只有 html 里面有 script 才会作为脚本被执行
* 前端要替换，后端也要替换，都做总不会有错
* 有 xss npm 工具

#### XSRF 跨站请求伪造

* 你正在购物，看中了某个商品，商品 id 是 100
* 付费接口是 xxx.com/pay?id=100，但没有任何验证
* 我是一个攻击者，我看中了一个商品，id 是 200
* 我向你发送一个电子邮件，邮件标题很吸引人
* 但邮件正文隐藏着 \<img src="xxx.com/pay?id=200" />
* 你一查看邮件，就购买了 id 是 200 的商品

因为你现在正在购物，肯定登录了这个网站了，你就会有用户信息了，图片的地址去访问的时候，你的用户信息已经带过去了。

预防：

* 使用 post 接口，用 img 攻击是攻击不通的，因为 img 的 src 只支持 get 请求
* 增加验证，例如密码，短信验证码，指纹等