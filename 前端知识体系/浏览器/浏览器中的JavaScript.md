### 宿主环境，js引擎

js引擎的执行过程，分为三个阶段

* 语法分析
* 预编译期
  预编译首先是全局预编译，函数体在未调用时不进行预编译
  只有var和function声明会提升
  注意是在所在作用域内提升，不会扩展到其他作用域
  预编译后顺序执行
* 执行阶段期

JavaScript 是一种轻量级的脚本语言。所谓“脚本语言”（script language），指的是它不具备开发操作系统的能力，而是只用来编写控制其他大型应用程序（比如浏览器）的“脚本”。

JavaScript 也是一种嵌入式（embedded）语言。它本身提供的核心语法不算很多，只能用来做一些数学和逻辑运算。JavaScript 本身不提供任何与 I/O（输入/输出）相关的 API，都要靠宿主环境（host）提供，所以 JavaScript 只合适嵌入更大型的应用程序环境，去调用宿主环境提供的底层 API。目前，已经嵌入 JavaScript 的宿主环境有多种，最常见的环境就是浏览器，另外还有服务器环境，也就是 Node 项目。

JavaScript 的核心语法部分相当精简，只包括两个部分：基本的语法构造和标准库。除此之外，各种宿主环境提供额外的 API，以便 JavaScript 调用。



### 脚本语言，需要借助引擎（解释器）来运行，所以需要封装了引擎的环境.
封装了js引擎的环境分为两类，浏览器环境，非浏览器环境（nodejs, mongoDB）

浏览器环境下js有三部分组成，分别是ECMAScript，DOM，BOM

非浏览器环境，比如node，也是以ECMAScript为基础，扩展出了I/O操作，文件操作，数据库操作等等



javascript 是一门编程语言，运行的环境是虚拟机（chrome是v8，别的浏览器也有），这个虚拟机在标准内称作javascript的运行时，这个运行时本身就是javascript的宿主环境了，不过在浏览器端，也把浏览器称作它的宿主环境（虚拟机寄宿在浏览器内）



### 浏览器、宿主环境、执行期环境

javascript只能寄生在某个具体的环境才能够工作

javascript运行环境一般都由宿主环境和执行期环境构成，其中宿主环境是由外壳程序生成的，如浏览器就是一个外壳程序，它提供了一个可控制浏览器窗口的宿主环境。执行期环境则有嵌入到外壳程序中的javascript引擎生成，在这个环境中javascript能够生成内置静态对象和初始化执行环境等。　　

javascript 是一种脚本语音，它本身不提供I/O（输入和输出）接口，也没有与系统和外界通信的能力，更不能操作外围设备、管理内存、修改注册表等行为，这些功能全部交给宿主环境完成的，例如，在客户端浏览器（外壳程序）的宿主环境中，Javascript通过window对象的alert()方法及document对象的write()和writeIn()方法输出信息，而借助window的prompt()方法接收信息。当然，在其他宿主环境中可能会使用不同的宿主对象来完成以上功能。例如，在windows环境中，微软公司开发的WSH就是一种脚本语言的宿主环境，它就定义了类似window对象的wscript对象来表示全局对象。

不仅web浏览器是外壳程序，只要能提供javascript引擎执行的环境都可以做外壳程序。比如，服务器，桌面应用系统也都能够允许JavaScript引擎执行的运行环境，这些运行环境也是宿主环境。　　

web浏览器允许javascript引擎对其进行控制，并通过DOM组件实现对HTML和XML文档的操作。

执行期环境是由宿主环境通过脚本引擎创建的，实际上就是由Javascript引擎创建的一个代码解析初始化环境，内容主要包括：

* 一套与宿主环境想联系的规则
* javascript引擎内核（基本语法和规范、逻辑、命令和算法）　　
* 一组内置对象的API
* 其他约定

当然，不同的javascript引擎定义的初始化环境是不同的，这就形成了所谓的浏览器兼容性问题，因为不同的浏览器使用的是不同的浏览器引擎。      

